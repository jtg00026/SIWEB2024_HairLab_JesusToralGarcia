<!DOCTYPE html>
<html lang="en">
<head>
    <title>Iniciar Sesión - HairLab</title>
    <meta property="og:title" content="Iniciar Sesión - HairLab" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />
    <meta property="twitter:card" content="summary_large_image" />
    <link rel="stylesheet" href="./css/style.css" />
    <link href="./css/iniciar-sesion.css" rel="stylesheet" />
</head>
<body>
<div class="crear-usuario-container">
    <div class="crear-usuario-navbar1">
        <div class="navbar4-container">
            <img alt="image" src="./logo-400w.png" class="navbar4-image" />
            <header data-thq="thq-navbar" class="navbar4-navbar-interactive">
              <div data-thq="thq-navbar-nav" class="navbar4-desktop-menu">
                <nav class="navbar4-links">
                  <a
                    href="index.html"
                    class="navbar4-link1 thq-link thq-body-small"
                  >
                    <span>Inicio</span>
                  </a>
                  <a
                    href="servicios.html"
                    class="navbar4-link2 thq-link thq-body-small"
                  >
                    <span>Servicios</span>
                  </a>
                  <a
                    href="tienda.html"
                    class="navbar4-link3 thq-link thq-body-small"
                  >
                    <span>Tienda</span>
                  </a>
                  <a
                    href="about-us.html"
                    class="navbar4-link4 thq-link thq-body-small"
                  >
                    <span>Sobre nosotros</span>
                  </a>
                  <a
                    href="contacto.html"
                    class="navbar4-link5 thq-link thq-body-small"
                  >
                    <span>Contacto</span>
                  </a>
                </nav>
                <div class="navbar4-buttons">
                    <a href="iniciar-sesion.html" class="navbar4-action1 thq-button-filled">
                        <span>Iniciar sesión</span>
                    </a>
                    <a href="crear-usuario.html" class="navbar4-action2 thq-button-outline">
                        <span>Crear cuenta</span>
                    </a>
                </div>
                
              </div>
              <div data-thq="thq-burger-menu" class="navbar4-burger-menu">
                <svg viewBox="0 0 1024 1024" class="navbar4-icon">
                  <path
                    d="M128 554.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667zM128 298.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667zM128 810.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667z"
                  ></path>
                </svg>
              </div>
              <div data-thq="thq-mobile-menu" class="navbar4-mobile-menu">
                <div class="navbar4-nav">
                  <div class="navbar4-top">
                    <img
                      alt="Logo de la peluquería"
                      src="https://aheioqhobo.cloudimg.io/v7/_playground-bucket-v2.teleporthq.io_/84ec08e8-34e9-42c7-9445-d2806d156403/fac575ac-7a41-484f-b7ac-875042de11f8?org_if_sml=1&amp;force_format=original"
                      class="navbar4-logo"
                    />
                    <div data-thq="thq-close-menu" class="navbar4-close-menu">
                      <svg viewBox="0 0 1024 1024" class="navbar4-icon2">
                        <path
                          d="M810 274l-238 238 238 238-60 60-238-238-238 238-60-60 238-238-238-238 60-60 238 238 238-238z"
                        ></path>
                      </svg>
                    </div>
                  </div>
                  <nav class="navbar4-links1">
                    <span class="thq-link thq-body-small">
                      <span>Inicio</span>
                    </span>
                    <span class="thq-link thq-body-small">
                      <span>Servicios</span>
                    </span>
                    <span class="thq-link thq-body-small">
                      <span>Tienda</span>
                    </span>
                    <span class="thq-link thq-body-small">
                      <span>Sobre nosotros</span>
                    </span>
                    <span class="thq-link thq-body-small">
                      <span>Contacto</span>
                    </span>
                  </nav>
                </div>
                <div class="navbar4-buttons1">
                  <button class="thq-button-filled">Login</button>
                  <button class="thq-button-outline">Register</button>
                </div>
              </div>
            </header>
          </div>
    </div>
    <div class="crear-usuario-hero2">
        <div class="hero92-header30 thq-section-padding">
            <img alt="Salón de peluquería elegante" src="https://images.unsplash.com/photo-1493775379751-a6c3940f3cbc?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=M3w5MTMyMXwwfDF8cmFuZG9tfHx8fHx8fHx8MTcxNTQ5ODk2MHw&amp;ixlib=rb-4.0.3&amp;q=80&amp;w=1080" class="hero92-image" />
            <div class="hero92-container"></div>
            <div class="hero92-max-width thq-section-max-width">
                <div class="hero92-content">
                    <h1 class="hero92-text thq-heading-1">
                        <span>Bienvenido/a de nuevo a HairLab</span>
                    </h1>
                    <p class="hero92-text1 thq-body-large">
                        <span>Introduce tus credenciales de acceso abajo para iniciar sesión con una cuenta existente.</span>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="crear-usuario-formulario centered-form-container">
        <form id="loginForm" action="/iniciarSesion" method="POST">
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
            </div>
            <div class="form-group">
                <label for="password">Contraseña:</label>
                <input type="password" id="password" name="password" required>
            </div>
            <button type="submit">Iniciar Sesión</button>
        </form>
    </div>

    <div id="mensajeInicioSesion" style="display: none;"></div>

    <div class="crear-usuario-features3">
        <div class="features1-layout251 thq-section-padding">
        </div>
    </div>
    <div class="crear-usuario-contact4"></div>
    <div class="crear-usuario-footer11">
        <div class="footer15-container thq-section-padding">
            <img alt="Logo de Peluquería XYZ" src="/logo-1500h.png" class="footer15-image1" />
            <div class="footer15-max-width thq-section-max-width">
                <div class="footer15-credits">
                    <div class="footer15-row">
                        <div class="footer15-credits1">
                            <span class="thq-body-small">
                                <span>Enlace de privacidad</span>
                            </span>
                            <span class="thq-body-small">
                                <span>Enlace de términos y condiciones</span>
                            </span>
                            <span class="thq-body-small">
                                <span>Enlace de cookies</span>
                            </span>
                        </div>
                    </div>
                    <span class="footer15-content3 thq-body-small">
                        <span>© 2024 HairLab</span>
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
  document.getElementById("loginForm").addEventListener("submit", function(event) {
      event.preventDefault(); // Prevenir el envío del formulario normalmente

      // Obtener los valores de correo electrónico y contraseña ingresados por el usuario
      var email = document.getElementById("email").value;
      var password = document.getElementById("password").value;

      // Realizar una solicitud fetch al servidor para iniciar sesión
      fetch("/iniciarSesion", {
          method: 'POST',
          headers: {
              'Content-Type': 'application/json'
          },
          body: JSON.stringify({ email: email, password: password })
      })
      .then(response => {
          if (!response.ok) {
              // Si la respuesta no es OK, lanzar un error
              throw new Error('Error en la solicitud');
          }
          // Si la respuesta es OK, devolver los datos JSON
          return response.json();
      })
      .then(data => {
          if (data.success) {
              // Si la autenticación fue exitosa, redirigir a la página de inicio
              console.log('Inicio de sesión exitoso');
              window.location.href = "index.html";
          } else {
              // Si la autenticación falló, mostrar un mensaje de error
              console.log('Inicio de sesión fallido');
              alert("Inicio de sesión fallido. Por favor, verifica tus credenciales e intenta nuevamente.");
          }
      })
      .catch(error => {
          console.error('Error:', error);
          alert("Ocurrió un error al intentar iniciar sesión. Por favor, inténtalo de nuevo más tarde.");
      });
  });
</script>

</body>
</html>
